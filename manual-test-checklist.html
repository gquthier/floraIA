<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Test - Itin√©rairoPro</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f8fafc;
        }
        h1 {
            color: #2563eb;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 10px;
        }
        h2 {
            color: #1e293b;
            margin-top: 2rem;
            background: #eff6ff;
            padding: 10px 15px;
            border-radius: 8px;
        }
        .test-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #94a3b8;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .test-item.passed {
            border-left-color: #10b981;
        }
        .test-item.failed {
            border-left-color: #ef4444;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
        }
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-left: 10px;
        }
        .status.pending {
            background: #fef3c7;
            color: #92400e;
        }
        .status.testing {
            background: #dbeafe;
            color: #1e40af;
        }
        .status.passed {
            background: #d1fae5;
            color: #065f46;
        }
        .status.failed {
            background: #fee2e2;
            color: #991b1b;
        }
        .test-details {
            margin-top: 10px;
            padding: 10px;
            background: #f8fafc;
            border-radius: 6px;
            font-size: 0.875rem;
            color: #64748b;
        }
        .start-button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            margin: 20px 0;
            display: inline-block;
            text-decoration: none;
        }
        .start-button:hover {
            background: #1e40af;
        }
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2563eb, #10b981);
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <h1>üß™ Checklist de Test - Itin√©rairoPro</h1>
    
    <div style="background: #eff6ff; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
        <h3 style="margin-top: 0;">üéØ Objectif du Test</h3>
        <p>V√©rifier que toutes les fonctionnalit√©s de l'application fonctionnent correctement, du chargement du CSV jusqu'√† l'export des documents.</p>
        <a href="http://localhost:8000" target="_blank" class="start-button">üöÄ Ouvrir l'Application</a>
    </div>

    <div class="progress-bar">
        <div class="progress-fill" id="progressBar">0%</div>
    </div>

    <h2>üìã Phase 1: Chargement Initial</h2>
    
    <div class="test-item" id="test1">
        <div class="checkbox-container">
            <input type="checkbox" id="check1" onchange="updateProgress()">
            <label for="check1"><strong>Test 1.1: Page se charge correctement</strong></label>
            <span class="status pending" id="status1">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Ouvrir http://localhost:8000<br>
            <strong>Attendu:</strong> Page affiche le logo "Itin√©rairoPro" et le formulaire √âtape 1<br>
            <strong>V√©rifier:</strong> Pas d'erreur dans la console (F12)
        </div>
    </div>

    <div class="test-item" id="test2">
        <div class="checkbox-container">
            <input type="checkbox" id="check2" onchange="updateProgress()">
            <label for="check2"><strong>Test 1.2: CSV charg√© avec succ√®s</strong></label>
            <span class="status pending" id="status2">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Ouvrir la console (F12) et chercher le message<br>
            <strong>Attendu:</strong> "‚úÖ 62 activit√©s charg√©es depuis CSV"<br>
            <strong>V√©rifier:</strong> "üìç Localisations: Amed, Canggu, Candidasa..."
        </div>
    </div>

    <h2>üîç Phase 2: Recherche et Filtres RAG</h2>

    <div class="test-item" id="test3">
        <div class="checkbox-container">
            <input type="checkbox" id="check3" onchange="updateProgress()">
            <label for="check3"><strong>Test 2.1: Recherche textuelle fonctionne</strong></label>
            <span class="status pending" id="status3">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Remplir √âtape 1 (dates) ‚Üí Cliquer "Suivant" ‚Üí "Ajouter une activit√©" ‚Üí Taper "diving"<br>
            <strong>Attendu:</strong> Plusieurs activit√©s de plong√©e apparaissent<br>
            <strong>V√©rifier:</strong> "Diving Manta Rays", "Liberty Wreck", etc.
        </div>
    </div>

    <div class="test-item" id="test4">
        <div class="checkbox-container">
            <input type="checkbox" id="check4" onchange="updateProgress()">
            <label for="check4"><strong>Test 2.2: Filtre par localisation</strong></label>
            <span class="status pending" id="status4">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Dans le modal, s√©lectionner "Nusa Penida" dans le dropdown localisation<br>
            <strong>Attendu:</strong> Seulement les activit√©s Nusa Penida sont affich√©es<br>
            <strong>V√©rifier:</strong> Compteur affiche "X activit√©s trouv√©es"
        </div>
    </div>

    <div class="test-item" id="test5">
        <div class="checkbox-container">
            <input type="checkbox" id="check5" onchange="updateProgress()">
            <label for="check5"><strong>Test 2.3: Filtre par cat√©gorie</strong></label>
            <span class="status pending" id="status5">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> S√©lectionner "Plong√©e & Snorkeling" dans le dropdown cat√©gorie<br>
            <strong>Attendu:</strong> Seulement les activit√©s de plong√©e apparaissent<br>
            <strong>V√©rifier:</strong> Les badges de cat√©gorie affichent "Plong√©e & Snorkeling"
        </div>
    </div>

    <div class="test-item" id="test6">
        <div class="checkbox-container">
            <input type="checkbox" id="check6" onchange="updateProgress()">
            <label for="check6"><strong>Test 2.4: Recherche combin√©e</strong></label>
            <span class="status pending" id="status6">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Taper "manta" + Localisation "Nusa Penida"<br>
            <strong>Attendu:</strong> "Diving Manta Rays" en premier r√©sultat<br>
            <strong>V√©rifier:</strong> Compteur mis √† jour en temps r√©el
        </div>
    </div>

    <h2>üìù Phase 3: Cr√©ation d'Itin√©raire</h2>

    <div class="test-item" id="test7">
        <div class="checkbox-container">
            <input type="checkbox" id="check7" onchange="updateProgress()">
            <label for="check7"><strong>Test 3.1: Ajout d'activit√©s</strong></label>
            <span class="status pending" id="status7">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer sur une activit√© dans le modal<br>
            <strong>Attendu:</strong> Activit√© ajout√©e au jour + Notification "‚úÖ [Nom] ajout√©e au Jour X"<br>
            <strong>V√©rifier:</strong> Modal se ferme automatiquement
        </div>
    </div>

    <div class="test-item" id="test8">
        <div class="checkbox-container">
            <input type="checkbox" id="check8" onchange="updateProgress()">
            <label for="check8"><strong>Test 3.2: Affichage des activit√©s</strong></label>
            <span class="status pending" id="status8">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Regarder la carte du jour avec l'activit√© ajout√©e<br>
            <strong>Attendu:</strong> Nom, localisation, dur√©e, prix en EUR affich√©s<br>
            <strong>V√©rifier:</strong> Bouton supprimer (poubelle) visible au survol
        </div>
    </div>

    <div class="test-item" id="test9">
        <div class="checkbox-container">
            <input type="checkbox" id="check9" onchange="updateProgress()">
            <label for="check9"><strong>Test 3.3: Ajouter 5 activit√©s (5 jours)</strong></label>
            <span class="status pending" id="status9">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Ajouter une activit√© diff√©rente pour chaque jour (1 √† 5)<br>
            <strong>Attendu:</strong> 5 jours avec 1 activit√© chacun<br>
            <strong>V√©rifier:</strong> Calcul du prix total visible
        </div>
    </div>

    <h2>üöó Phase 4: Transferts</h2>

    <div class="test-item" id="test10">
        <div class="checkbox-container">
            <input type="checkbox" id="check10" onchange="updateProgress()">
            <label for="check10"><strong>Test 4.1: Transferts auto-g√©n√©r√©s</strong></label>
            <span class="status pending" id="status10">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "Suivant" depuis √âtape 2<br>
            <strong>Attendu:</strong> Transferts g√©n√©r√©s automatiquement bas√©s sur les activit√©s<br>
            <strong>V√©rifier:</strong> Jour 1 : A√©roport ‚Üí Premi√®re destination
        </div>
    </div>

    <h2>üì∏ Phase 5: Photos & Aper√ßu</h2>

    <div class="test-item" id="test11">
        <div class="checkbox-container">
            <input type="checkbox" id="check11" onchange="updateProgress()">
            <label for="check11"><strong>Test 5.1: Drag & Drop photos</strong></label>
            <span class="status pending" id="status11">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "Suivant" ‚Üí Glisser-d√©poser 2-3 images dans la zone<br>
            <strong>Attendu:</strong> Photos apparaissent en miniature<br>
            <strong>V√©rifier:</strong> Bouton X pour supprimer visible au survol
        </div>
    </div>

    <div class="test-item" id="test12">
        <div class="checkbox-container">
            <input type="checkbox" id="check12" onchange="updateProgress()">
            <label for="check12"><strong>Test 5.2: Aper√ßu de l'itin√©raire</strong></label>
            <span class="status pending" id="status12">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Regarder la colonne "Aper√ßu de l'itin√©raire"<br>
            <strong>Attendu:</strong> Nom client, dates, activit√©s jour par jour affich√©s<br>
            <strong>V√©rifier:</strong> Format professionnel et lisible
        </div>
    </div>

    <h2>üì§ Phase 6: Exports</h2>

    <div class="test-item" id="test13">
        <div class="checkbox-container">
            <input type="checkbox" id="check13" onchange="updateProgress()">
            <label for="check13"><strong>Test 6.1: Export PDF Client</strong></label>
            <span class="status pending" id="status13">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "Suivant" ‚Üí Cliquer "T√©l√©charger PDF"<br>
            <strong>Attendu:</strong> Nouvelle fen√™tre s'ouvre avec l'itin√©raire format√©<br>
            <strong>V√©rifier:</strong> Photos incluses, mise en page professionnelle
        </div>
    </div>

    <div class="test-item" id="test14">
        <div class="checkbox-container">
            <input type="checkbox" id="check14" onchange="updateProgress()">
            <label for="check14"><strong>Test 6.2: Export Word</strong></label>
            <span class="status pending" id="status14">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "T√©l√©charger Word"<br>
            <strong>Attendu:</strong> Fichier .doc t√©l√©charg√©<br>
            <strong>V√©rifier:</strong> Ouvrable dans Word, contenu √©ditable
        </div>
    </div>

    <div class="test-item" id="test15">
        <div class="checkbox-container">
            <input type="checkbox" id="check15" onchange="updateProgress()">
            <label for="check15"><strong>Test 6.3: R√©capitulatif Chauffeurs</strong></label>
            <span class="status pending" id="status15">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "T√©l√©charger Recap"<br>
            <strong>Attendu:</strong> Nouvelle fen√™tre avec contacts partenaires et liens Google Maps<br>
            <strong>V√©rifier:</strong> Tableau des transferts complet
        </div>
    </div>

    <div class="test-item" id="test16">
        <div class="checkbox-container">
            <input type="checkbox" id="check16" onchange="updateProgress()">
            <label for="check16"><strong>Test 6.4: Quotation Excel</strong></label>
            <span class="status pending" id="status16">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Cliquer "T√©l√©charger Excel"<br>
            <strong>Attendu:</strong> Fichier CSV t√©l√©charg√©<br>
            <strong>V√©rifier:</strong> Ouvrable dans Excel, calculs corrects
        </div>
    </div>

    <div class="test-item" id="test17">
        <div class="checkbox-container">
            <input type="checkbox" id="check17" onchange="updateProgress()">
            <label for="check17"><strong>Test 6.5: R√©sum√© final correct</strong></label>
            <span class="status pending" id="status17">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Regarder la section "R√©sum√© de l'itin√©raire"<br>
            <strong>Attendu:</strong> Nom client, dur√©e, nombre d'activit√©s, prix total<br>
            <strong>V√©rifier:</strong> Tous les chiffres sont corrects
        </div>
    </div>

    <h2>üé® Phase 7: UX & Design</h2>

    <div class="test-item" id="test18">
        <div class="checkbox-container">
            <input type="checkbox" id="check18" onchange="updateProgress()">
            <label for="check18"><strong>Test 7.1: Navigation entre √©tapes</strong></label>
            <span class="status pending" id="status18">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Utiliser les boutons "Suivant" et "Pr√©c√©dent"<br>
            <strong>Attendu:</strong> Navigation fluide, indicateurs de progression mis √† jour<br>
            <strong>V√©rifier:</strong> Donn√©es conserv√©es entre les √©tapes
        </div>
    </div>

    <div class="test-item" id="test19">
        <div class="checkbox-container">
            <input type="checkbox" id="check19" onchange="updateProgress()">
            <label for="check19"><strong>Test 7.2: Responsive design</strong></label>
            <span class="status pending" id="status19">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> R√©duire la fen√™tre du navigateur (simuler mobile)<br>
            <strong>Attendu:</strong> Interface s'adapte correctement<br>
            <strong>V√©rifier:</strong> Tout reste lisible et utilisable
        </div>
    </div>

    <div class="test-item" id="test20">
        <div class="checkbox-container">
            <input type="checkbox" id="check20" onchange="updateProgress()">
            <label for="check20"><strong>Test 7.3: Notifications</strong></label>
            <span class="status pending" id="status20">En attente</span>
        </div>
        <div class="test-details">
            <strong>Action:</strong> Ajouter une activit√© ou exporter un document<br>
            <strong>Attendu:</strong> Notification appara√Æt en haut √† droite<br>
            <strong>V√©rifier:</strong> Dispara√Æt automatiquement apr√®s 3 secondes
        </div>
    </div>

    <div style="background: #f0fdf4; padding: 20px; border-radius: 12px; margin: 30px 0; border-left: 4px solid #10b981;">
        <h3 style="margin-top: 0; color: #065f46;">‚úÖ R√©sultat Final</h3>
        <p id="finalResult">Compl√©tez tous les tests ci-dessus pour voir le r√©sultat.</p>
        <div id="successMessage" style="display: none; color: #065f46; font-weight: 600; font-size: 1.125rem;">
            üéâ Tous les tests sont pass√©s ! L'application est pr√™te pour la production.
        </div>
    </div>

    <script>
        function updateProgress() {
            const total = 20;
            const checked = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const percentage = Math.round((checked / total) * 100);
            
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
            
            // Mettre √† jour le r√©sultat final
            const finalResult = document.getElementById('finalResult');
            const successMessage = document.getElementById('successMessage');
            
            if (checked === total) {
                finalResult.style.display = 'none';
                successMessage.style.display = 'block';
            } else {
                finalResult.textContent = `${checked}/${total} tests compl√©t√©s (${percentage}%)`;
            }
            
            // Mettre √† jour les statuts individuels
            for (let i = 1; i <= total; i++) {
                const checkbox = document.getElementById('check' + i);
                const status = document.getElementById('status' + i);
                const testItem = document.getElementById('test' + i);
                
                if (checkbox.checked) {
                    status.textContent = '‚úÖ Pass√©';
                    status.className = 'status passed';
                    testItem.classList.add('passed');
                } else {
                    status.textContent = 'En attente';
                    status.className = 'status pending';
                    testItem.classList.remove('passed');
                }
            }
        }
        
        // Charger l'√©tat depuis localStorage
        window.addEventListener('load', function() {
            for (let i = 1; i <= 20; i++) {
                const saved = localStorage.getItem('test' + i);
                if (saved === 'true') {
                    document.getElementById('check' + i).checked = true;
                }
            }
            updateProgress();
        });
        
        // Sauvegarder l'√©tat dans localStorage
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                localStorage.setItem(this.id, this.checked);
            });
        });
    </script>
</body>
</html>
